{% extends "base.html" %}

{% block title %}Historial de Registros - PPAM Web{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
    <h1 class="mb-0">Historial de Registros de Actividad</h1>
    
    <div class="btn-group">
        <a href="{{ url_for('registros.nuevo_registro') }}" class="btn btn-primary">
            <i class="bi bi-plus-circle me-2"></i>Añadir Nuevo Registro
        </a>
        <a href="{{ url_for('registros.exportar_registros', formato='pdf') }}" class="btn btn-danger">
            <i class="bi bi-file-earmark-pdf me-2"></i>Exportar a PDF
        </a>
        <a href="{{ url_for('registros.exportar_registros', formato='txt') }}" class="btn btn-info">
            <i class="bi bi-file-text me-2"></i>Exportar a TXT
        </a>
    </div>
</div>

<div class="card bg-secondary">
    <div class="card-header">
        <h5>Registros Guardados</h5>
    </div>
    <div class="table-responsive">
        <table class="table table-dark table-striped table-hover mb-0">
            <thead>
                <tr>
                    <th>Fecha</th>
                    <th>Lugar</th>
                    <th>Hora</th>
                    <th>Participantes</th>
                    <th>Libros</th>
                    <th>Revistas</th>
                    <th>Videos</th>
                    <th>Revisitas</th>
                </tr>
            </thead>
            <tbody>
                {% for registro in registros %}
                <tr>
                    <td>{{ registro.fecha.strftime('%d/%m/%Y') }}</td>
                    <td>{{ registro.lugar }}</td>
                    <td>{{ registro.hora }}</td>
                    <td>{{ registro.participantes }}</td>
                    <td>{{ registro.publicaciones_libros }}</td>
                    <td>{{ registro.publicaciones_revistas }}</td>
                    <td>{{ registro.videos }}</td>
                    <td>{{ registro.revisitas }}</td>
                </tr>
                {% else %}
                <tr>
                    <td colspan="8" class="text-center py-4">No hay registros de actividad guardados todavía.</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}